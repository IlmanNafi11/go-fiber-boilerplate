# server configuration
# Env value : prod || dev
APP_ENV=dev
APP_HOST=0.0.0.0
APP_PORT=3000
APP_URL=http://localhost:3000

# database configuration
DB_HOST=postgresdb
DB_USER=postgres
DB_PASSWORD=thisisasamplepassword
DB_NAME=fiberdb
DB_PORT=5432

# JWT
# JWT secret key
JWT_SECRET=thisisasamplesecret
# Number of minutes after which an access token expires
JWT_ACCESS_EXP_MINUTES=30
# Number of days after which a refresh token expires
JWT_REFRESH_EXP_DAYS=30
# Number of minutes after which a reset password token expires
JWT_RESET_PASSWORD_EXP_MINUTES=10
# Number of minutes after which a verify email token expires
JWT_VERIFY_EMAIL_EXP_MINUTES=10

# SMTP configuration options for the email service
SMTP_HOST=email-server
SMTP_PORT=587
SMTP_USERNAME=email-server-username
SMTP_PASSWORD=email-server-password
EMAIL_FROM=support@yourapp.com

# OAuth2 configuration
GOOGLE_CLIENT_ID=yourapps.googleusercontent.com
GOOGLE_CLIENT_SECRET=thisisasamplesecret
REDIRECT_URL=http://localhost:3000/v1/auth/google-callback

# Redis Configuration (Optional - omit to disable Redis)
# Redis will be used as caching layer to reduce database load and improve response times
# If any of these variables are omitted, Redis will be disabled and the application will run in database-only mode
REDIS_HOST=localhost          # Redis server host (default: localhost)
REDIS_PORT=6379             # Redis server port (default: 6379)
REDIS_PASSWORD=              # Redis password (leave empty for no auth)
REDIS_DB=0                  # Redis database number (default: 0)

# Connection Pool Configuration
REDIS_MAX_IDLE=10            # Maximum idle connections in pool (default: 10)
REDIS_MAX_ACTIVE=100          # Maximum active connections in pool (default: 100)
REDIS_IDLE_TIMEOUT=300        # Idle connection timeout in seconds (default: 300 = 5 minutes)
REDIS_POOL_TIMEOUT=4          # Connection pool timeout in seconds (default: 4)

# Connection Timeouts
REDIS_DIAL_TIMEOUT=10        # Connection timeout in seconds (default: 10)
REDIS_READ_TIMEOUT=5         # Read operation timeout in seconds (default: 5)
REDIS_WRITE_TIMEOUT=5        # Write operation timeout in seconds (default: 5)

# Circuit Breaker Configuration
# Automatically configured with: MaxRequests=5, Interval=1min, Timeout=30s, ReadyToTrip=3
# Circuit breaker prevents connection storms and enables graceful degradation

# Session Cache Configuration
# Session cache TTL in minutes (default: 30, range: 10-120)
# Controls how long user session data is cached in Redis before expiring
SESSION_CACHE_TTL=30

# Rate Limiting Configuration
# Rate limiter middleware protects API endpoints from abuse and DDoS attacks
# Rate limit counters are stored in Redis for distributed rate limiting across multiple instances
# Sliding window algorithm is used with configurable time windows
RATE_LIMIT_ENABLED=true           # Enable or disable rate limiting (default: true)
RATE_LIMIT_MAX=100                # Maximum requests per time window for unauthenticated users (default: 100)
RATE_LIMIT_AUTH_MAX=500           # Maximum requests per time window for authenticated users (default: 500)
RATE_LIMIT_WINDOW=15              # Time window in minutes (default: 15)

